{"changed":true,"filter":false,"title":"game.rb","tooltip":"/Tic Tac Toe/game.rb","value":"module TicTacToe\n   class Game\n      WINNING_SCORE = 3\n      def initialize(size, winning = WINNING_SCORE)\n        @winning = winning\n        @board = Board.new(size)\n      end\n      \n      def is_over?\n         @board.each_cell { |b| return false if b == ' ' }\n         true\n      end\n      \n      def victory?(last_move)\n         return score_move(last_move)\n      end\n      \n      def score_move(move)\n         sym = @board[move[0]][move[1]]\n         score = check_col(move[0], sym)\n         score = [check_row(move[1], sym), score].max\n         score = [check_diag(move[0], move[1], sym), score].max\n      end\n      \n      def check_col(col, sym)\n         score = 0\n         @board[col].each { |cell|\n            score += 1 if cell == sym\n         }\n         score\n      end\n      \n      def check_row(row, sym)\n         score = 0\n         for i in (0...size)\n            score += 1 if @board[i][row] == sym\n         }\n         score\n      end\n      \n      def check_col(col, sym)\n         0\n      end\n   end\nend\n\ngame = TicTacToe::Game.new(2)\ngame.victory?([0, 0])","undoManager":{"mark":-505,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":10},"end":{"row":26,"column":11}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":11},"end":{"row":26,"column":12}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":12},"end":{"row":26,"column":13}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":13},"end":{"row":26,"column":14}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":14},"end":{"row":26,"column":15}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":15},"end":{"row":26,"column":16}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":16},"end":{"row":26,"column":17}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":16},"end":{"row":26,"column":17}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":15},"end":{"row":26,"column":16}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":15},"end":{"row":26,"column":16}},"text":"["}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":16},"end":{"row":26,"column":17}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":17},"end":{"row":26,"column":18}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":18},"end":{"row":26,"column":19}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":19},"end":{"row":26,"column":20}},"text":"]"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":20},"end":{"row":26,"column":21}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":21},"end":{"row":26,"column":22}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":22},"end":{"row":26,"column":23}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":23},"end":{"row":26,"column":24}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":24},"end":{"row":26,"column":25}},"text":"h"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":25},"end":{"row":26,"column":26}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":26,"column":25},"end":{"row":26,"column":26}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":25},"end":{"row":26,"column":26}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":26},"end":{"row":26,"column":27}},"text":"{"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":27},"end":{"row":26,"column":28}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":28},"end":{"row":26,"column":29}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":29},"end":{"row":26,"column":30}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":30},"end":{"row":26,"column":31}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":31},"end":{"row":26,"column":32}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":32},"end":{"row":26,"column":33}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":33},"end":{"row":26,"column":34}},"text":"|"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":28,"column":9},"end":{"row":28,"column":12}},"text":"end"},{"action":"insertText","range":{"start":{"row":28,"column":9},"end":{"row":28,"column":10}},"text":"}"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":26},"end":{"row":27,"column":40}},"text":"@board[col][i]"},{"action":"insertText","range":{"start":{"row":27,"column":26},"end":{"row":27,"column":27}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":27,"column":27},"end":{"row":27,"column":28}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":27,"column":28},"end":{"row":27,"column":29}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":27,"column":29},"end":{"row":27,"column":30}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":28,"column":10},"end":{"row":29,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":29,"column":0},"end":{"row":29,"column":9}},"text":"         "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":9},"end":{"row":29,"column":10}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":10},"end":{"row":29,"column":11}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":11},"end":{"row":29,"column":12}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":12},"end":{"row":29,"column":13}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":29,"column":13},"end":{"row":29,"column":14}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":29,"column":9},"end":{"row":29,"column":14}},"text":"score"},{"action":"insertText","range":{"start":{"row":29,"column":9},"end":{"row":29,"column":14}},"text":"score"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":30,"column":9},"end":{"row":31,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":31,"column":0},"end":{"row":31,"column":6}},"text":"      "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":31,"column":6},"end":{"row":32,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":6}},"text":"      "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":6},"end":{"row":32,"column":29}},"text":"def check_col(col, sym)"},{"action":"insertText","range":{"start":{"row":32,"column":29},"end":{"row":33,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":33,"column":0},"end":{"row":38,"column":0}},"lines":["         score = 0","         @board[col].each { |cell|","            score += 1 if cell == sym","         }","         score"]},{"action":"insertText","range":{"start":{"row":38,"column":0},"end":{"row":38,"column":9}},"text":"      end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":38,"column":9},"end":{"row":39,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":39,"column":0},"end":{"row":39,"column":6}},"text":"      "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":39,"column":6},"end":{"row":40,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":6}},"text":"      "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":6},"end":{"row":40,"column":29}},"text":"def check_col(col, sym)"},{"action":"insertText","range":{"start":{"row":40,"column":29},"end":{"row":41,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":41,"column":0},"end":{"row":46,"column":0}},"lines":["         score = 0","         @board[col].each { |cell|","            score += 1 if cell == sym","         }","         score"]},{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":9}},"text":"      end"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":32,"column":16},"end":{"row":32,"column":19}},"text":"col"},{"action":"insertText","range":{"start":{"row":32,"column":16},"end":{"row":32,"column":17}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":17},"end":{"row":32,"column":18}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":18},"end":{"row":32,"column":19}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":32,"column":20},"end":{"row":32,"column":23}},"text":"col"},{"action":"insertText","range":{"start":{"row":32,"column":20},"end":{"row":32,"column":21}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":21},"end":{"row":32,"column":22}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":22},"end":{"row":32,"column":23}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":9},"end":{"row":34,"column":34}},"text":"@board[col].each { |cell|"},{"action":"insertText","range":{"start":{"row":34,"column":9},"end":{"row":34,"column":10}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":10},"end":{"row":34,"column":11}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":11},"end":{"row":34,"column":12}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":12},"end":{"row":34,"column":13}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":13},"end":{"row":34,"column":14}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":14},"end":{"row":34,"column":15}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":15},"end":{"row":34,"column":16}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":16},"end":{"row":34,"column":17}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":17},"end":{"row":34,"column":18}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":18},"end":{"row":34,"column":19}},"text":"@"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":19},"end":{"row":34,"column":20}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":20},"end":{"row":34,"column":21}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":21},"end":{"row":34,"column":22}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":22},"end":{"row":34,"column":23}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":23},"end":{"row":34,"column":24}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":23},"end":{"row":34,"column":24}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":22},"end":{"row":34,"column":23}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":21},"end":{"row":34,"column":22}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":20},"end":{"row":34,"column":21}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":19},"end":{"row":34,"column":20}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":34,"column":18},"end":{"row":34,"column":19}},"text":"@"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":18},"end":{"row":34,"column":19}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":19},"end":{"row":34,"column":20}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":20},"end":{"row":34,"column":21}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":21},"end":{"row":34,"column":22}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":22},"end":{"row":34,"column":23}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":23},"end":{"row":34,"column":24}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":24},"end":{"row":34,"column":25}},"text":"z"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":25},"end":{"row":34,"column":26}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":26},"end":{"row":34,"column":27}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":34,"column":22},"end":{"row":34,"column":23}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":35,"column":26},"end":{"row":35,"column":30}},"text":"cell"},{"action":"insertText","range":{"start":{"row":35,"column":26},"end":{"row":35,"column":27}},"text":"@"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":27},"end":{"row":35,"column":28}},"text":"b"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":28},"end":{"row":35,"column":29}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":29},"end":{"row":35,"column":30}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":30},"end":{"row":35,"column":31}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":31},"end":{"row":35,"column":32}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":32},"end":{"row":35,"column":33}},"text":"["}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":33},"end":{"row":35,"column":34}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":34},"end":{"row":35,"column":35}},"text":"]"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":35},"end":{"row":35,"column":36}},"text":"["}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":36},"end":{"row":35,"column":37}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":37},"end":{"row":35,"column":38}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":38},"end":{"row":35,"column":39}},"text":"w"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":35,"column":39},"end":{"row":35,"column":40}},"text":"]"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":45,"column":0},"end":{"row":45,"column":14}},"text":"         score"},{"action":"removeLines","range":{"start":{"row":42,"column":0},"end":{"row":45,"column":0}},"nl":"\n","lines":["         @board[col].each { |cell|","            score += 1 if cell == sym","         }"]},{"action":"removeText","range":{"start":{"row":41,"column":9},"end":{"row":41,"column":18}},"text":"score = 0"},{"action":"removeText","range":{"start":{"row":41,"column":9},"end":{"row":42,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":41,"column":9},"end":{"row":41,"column":10}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":14,"column":37},"end":{"row":14,"column":48}},"text":" == winning"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":47,"column":21},"end":{"row":47,"column":21},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1404391921139}